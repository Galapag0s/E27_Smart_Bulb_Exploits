import socket
import sys

def helpText():
	print("Please provide the required arguments")
	print("toggleLight.py <light_ip_address> <--on|--off>")
	print("Have a shining day")
	exit()

arguments = len(sys.argv) -1
if arguments < 2:
	helpText()
TCP_IP = sys.argv[1]
TCP_PORT = 5577
BUFFER_SIZE = 1024
if sys.argv[2] == '--on':
	print("Turning light on")
	MESSAGE = bytes.fromhex('71230FA3')
elif sys.argv[2] == '--off':
	print("Turning light off")
	MESSAGE = bytes.fromhex('71240FA4')
else:
	helpText()
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((TCP_IP, TCP_PORT))
s.send(MESSAGE)
data = s.recv(BUFFER_SIZE)
s.close()


